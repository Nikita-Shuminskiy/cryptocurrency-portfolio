(this["webpackJsonpcryptocurrency-portfolio"]=this["webpackJsonpcryptocurrency-portfolio"]||[]).push([[0],{108:function(e,t,r){},109:function(e,t,r){},110:function(e,t,r){},111:function(e,t,r){},112:function(e,t,r){},113:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(22),s=r(17),i=r.n(s),o=r(7),u=(r(78),r(79),r(8)),j=(r(80),r(81),r(6)),l=r(115),d=(r(82),r(117)),b=r(119),O=r(120),p=r(1),h=function(e){var t=e.assets,r=e.showModal,n=e.addAssetsHandler,a=Object(c.useState)(""),s=Object(j.a)(a,2),i=s[0],o=s[1],u=(Number(t.priceUsd)*Number(i)).toFixed(2);return Object(p.jsxs)(d.a,{show:!0,children:[Object(p.jsxs)(d.a.Header,{children:[Object(p.jsx)(d.a.Title,{children:"Add to portfolio"}),Object(p.jsx)(l.a,{onClick:function(){return r(!1)},variant:"primary",children:"close"})]}),Object(p.jsxs)(d.a.Body,{children:[Object(p.jsxs)("div",{children:["Do you want to add ",Object(p.jsx)("strong",{children:t.name})," to your portfolio"]}),Object(p.jsx)("div",{children:Object(p.jsxs)(b.a,{className:"mb-3",children:[Object(p.jsx)(O.a,{type:"number",value:i,onChange:function(e){+e.currentTarget.value>-1&&o(e.currentTarget.value)}}),Object(p.jsxs)(b.a.Text,{children:["$",u]})]})})]}),Object(p.jsx)(d.a.Footer,{children:Object(p.jsx)(l.a,{onClick:function(){return 0!==+i&&n(Number(i))},variant:"primary",children:"Add"})})]})},f=r(26),x=r(2),m={portfolio:[],percent:0,currentAssetSessions:0,currentUserPage:1},v=n.a.memo((function(e){var t=e.item,r=Object(c.useState)(!1),n=Object(j.a)(r,2),a=n[0],s=n[1],i=Object(o.b)(),d=Object(u.g)();return Object(p.jsxs)("div",{className:"main__body",children:[a&&Object(p.jsx)(h,{assets:t,addAssetsHandler:function(e){var r={assetId:t.id,count:e,price:Number(t.priceUsd)*e};i({type:"PORTFOLIO/ADD-ASSET",asset:r}),s(!a)},showModal:s}),Object(p.jsxs)("div",{className:"main__body__block",children:[Object(p.jsx)("p",{children:t.rank}),Object(p.jsx)("p",{children:t.name}),Object(p.jsxs)("p",{children:["$",(+t.priceUsd).toFixed(2)]}),Object(p.jsx)(l.a,{className:"block_btn",onClick:function(){return e=t.id,d.push("/currency-info/".concat(e));var e},variant:"outline-primary",children:"More info"}),Object(p.jsx)(l.a,{className:"block_btn",onClick:function(){s(!0)},variant:"outline-primary",children:"Buy currency"})]})]})})),y=r(116),g=(r(86),function(){return Object(p.jsx)("div",{className:"preloader",children:Object(p.jsx)(y.a,{animation:"border",variant:"primary"})})}),A=r(118),T=(r(87),function(e){var t=e.error,r=Object(c.useState)(!0),n=Object(j.a)(r,2),a=n[0],s=n[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(A.a,{className:"alert",show:a,variant:"primary",children:[Object(p.jsx)(A.a.Heading,{children:t}),Object(p.jsx)(l.a,{onClick:function(){s(!1)},variant:"outline-primary",children:"Close Alert!"})]})})}),S=(r(88),r(27)),P=r.n(S),N=r(46),C={status:"loading",error:null},E=function(e){return{type:"APP/SET-APP-STATUS",status:e}},k=r(65),R=r.n(k).a.create({baseURL:"https://api.coincap.io/v2/"}),_=function(){return R.get("assets")},F=function(e,t){return R.get("assets",{params:{limit:e,offset:t}})},I=function(e){return R.get("assets/".concat(e,"/history"),{params:{interval:"d1"}})},D={totalAssetData:[],dataAssetsPortion:[],timestamp:null,chartData:[],topAssets:[]},w=function(e){return{type:"CRYPT/SET-CURRENT-ASSETS-PORTION",data:e}},U=function(e,t){return{type:"CRYPT/SET-ASSETS-TOTAL",totalAssetData:e,timestamp:t}},L=function(e){return{type:"CRYPT/SET-DATA-CHART",data:e}},H=function(e){var t=e.pageSize,r=Object(o.b)(),n=Object(o.c)((function(e){return e.cryptocurrencyList.totalAssetData.length})),a=Object(o.c)((function(e){return e.portfolio.currentUserPage}));Object(c.useEffect)((function(){r(function(){var e=Object(N.a)(P.a.mark((function e(t){var r,c,n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,_();case 4:r=e.sent,c=r.data,n=c.data,a=c.timestamp,t(U(n,a)),t(E("succeeded")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(E("failed"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(c.useEffect)((function(){var e,c;r((e=t,c=(a-1)*t,function(){var t=Object(N.a)(P.a.mark((function t(r){var n,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(E("loading")),t.prev=1,t.next=4,F(e,c);case 4:n=t.sent,a=n.data.data,r(w(a)),r(E("succeeded")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r(E("failed"));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,a,t]);return{onPageChange:function(e){return r({type:"PORTFOLIO/CHANGE-PAGE",currentPage:e})},totalCount:n,pageCurrent:a}},M=function(){for(var e=H({pageSize:10}),t=e.onPageChange,r=e.totalCount,c=e.pageCurrent,n=Math.ceil(r/10),a=[],s=1;s<=n;s++)a.push(s);return Object(p.jsx)("div",{className:"paginator",children:a.map((function(e){return Object(p.jsx)("span",{className:c===e?"paginator-active":"paginator-unActive",onClick:function(){return t(e)},children:e},e)}))})},B=function(){var e=Object(o.c)((function(e){return e.app.status})),t=Object(o.c)((function(e){return e.cryptocurrencyList.dataAssetsPortion}));return Object(p.jsxs)("div",{className:"main",children:["failed"===e&&Object(p.jsx)(T,{error:"The server is overloaded, try again later"}),Object(p.jsxs)("div",{className:"main__header",children:[Object(p.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(p.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(p.jsx)("p",{className:"main__header-text",children:"Price"})]}),"loading"===e?Object(p.jsx)(g,{}):t.map((function(e){return Object(p.jsx)(v,{item:e},e.id)})),Object(p.jsx)(M,{})]})},Y=(r(108),function(){Object(o.b)();var e=Object(o.c)((function(e){return e.cryptocurrencyList.topAssets})),t=Object(o.c)((function(e){return e.app.status})),r=Object(o.c)((function(e){return e.portfolio})),c=r.portfolio,n=r.percent,s=r.currentAssetSessions,i=c&&c.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2);return Object(p.jsxs)("div",{className:"header",children:["loading"===t&&Object(p.jsx)(g,{}),e.map((function(e){return Object(p.jsxs)("div",{className:"header__assets",children:[Object(p.jsx)("p",{className:"header__assets-text",children:e.name}),Object(p.jsxs)("p",{className:"header__assets-text",children:["$",(+e.priceUsd).toFixed(2)]})]},e.id)})),Object(p.jsxs)("div",{className:"header__totalCounts",children:[Object(p.jsxs)("p",{className:"header__totalCounts-text",children:["Wallet:",i,"USD"]}),Object(p.jsxs)("p",{className:"header__totalCounts-text",children:["Session:",s.toFixed(2),"USD"]}),Object(p.jsxs)("p",{className:"header__totalCounts-text",children:[n!==1/0&&n.toFixed(3),"% "]})]}),Object(p.jsx)(a.b,{className:"header__link",to:"/portfolio",children:" My Portfolio"})]})}),$=(r(109),r(110),n.a.memo((function(e){var t=e.assetId,r=e.count,n=e.setChangeAsset,a=Object(o.c)((function(e){return e.cryptocurrencyList.totalAssetData})),s=Object(o.b)(),i=Object(c.useState)(""),u=Object(j.a)(i,2),d=u[0],h=u[1];return Object(p.jsxs)(b.a,{className:"mb-3",children:[Object(p.jsx)(b.a.Text,{children:t}),Object(p.jsx)(b.a.Text,{children:r}),Object(p.jsx)(O.a,{type:"number",value:d,onChange:function(e){+e.currentTarget.value>-1&&h(e.currentTarget.value)}}),Object(p.jsx)(l.a,{variant:"primary",onClick:function(){return function(e){var t=a.find((function(t){return t.id===e&&t.priceUsd}));if(t){var c={assetId:e,count:Number(d),price:Number(t.priceUsd)*Number(d)};if(r<c.count)return;s({type:"PORTFOLIO/UPDATE-PERCENT",asset:c}),s({type:"PORTFOLIO/REMOVE-ASSET",asset:c})}n(!1)}(t)},children:"sale"})]})}))),G=n.a.memo((function(e){var t=e.asset,r=Object(c.useState)(!1),n=Object(j.a)(r,2),a=n[0],s=n[1];return Object(p.jsxs)("div",{className:"wallet",children:[Object(p.jsxs)(l.a,{onClick:function(){return s(!a)},variant:"primary",children:["Change ",t.assetId]}),a?Object(p.jsx)($,{assetId:t.assetId,count:t.count,setChangeAsset:s}):Object(p.jsxs)("div",{className:"wallet__block",children:[Object(p.jsx)("span",{children:t.assetId}),Object(p.jsxs)("span",{children:["$",t.price.toFixed(1)]}),Object(p.jsx)("span",{children:t.count})]})]})})),J=function(){var e=Object(o.c)((function(e){return e.portfolio.portfolio})),t=Object(u.g)(),r=e.filter((function(e){return 0!==e.count}));return Object(p.jsxs)(d.a,{show:!0,children:[Object(p.jsxs)(d.a.Header,{children:[Object(p.jsx)(d.a.Title,{children:"My Portfolio"}),Object(p.jsx)("button",{onClick:function(){return t.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"})]}),Object(p.jsxs)(d.a.Body,{children:[!r.length&&Object(p.jsx)("div",{children:"Your Wallet Is Empty"}),r.map((function(e){return Object(p.jsx)(G,{asset:e},e.assetId)}))]}),Object(p.jsx)(d.a.Footer,{})]})},V=n.a.memo((function(e){var t=e.asset;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:t.rank}),Object(p.jsx)("th",{children:t.name}),Object(p.jsxs)("th",{children:["$",(+t.priceUsd).toFixed(5)]}),Object(p.jsxs)("th",{children:["$",(+t.marketCapUsd).toFixed(5)]}),Object(p.jsxs)("th",{children:["$",(+t.vwap24Hr).toFixed(2)]}),Object(p.jsxs)("th",{children:[(+t.supply).toFixed(5),"B"]}),Object(p.jsxs)("th",{children:[(+t.volumeUsd24Hr).toFixed(5),"B"]}),Object(p.jsxs)("th",{children:[(+t.changePercent24Hr).toFixed(2),"%"]})]},t.id)})),W=(r(111),r(66)),z=r(67),q=r.n(z),K=(r(112),function(e){var t=e.data,r={series:[{type:"area",data:t&&t.map((function(e){return+e.priceUsd}))}]};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(q.a,{highcharts:W,options:r})})}),Q=function(){var e=Object(u.h)().id,t=Object(u.g)(),r=Object(o.b)();Object(c.useEffect)((function(){r(function(e){return function(){var t=Object(N.a)(P.a.mark((function t(r){var c,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(E("loading")),t.prev=1,t.next=4,I(e);case 4:c=t.sent,n=c.data.data,r(L(n)),r(E("succeeded")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r(E("failed"));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[r,e]);var n=Object(o.c)((function(e){return e.cryptocurrencyList})),a=n.totalAssetData,s=n.chartData;return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){return t.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"}),Object(p.jsxs)("table",{className:"table table-hover table-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"table-primary",children:[Object(p.jsx)("th",{scope:"col",children:"Rank"}),Object(p.jsx)("th",{scope:"col",children:"Name"}),Object(p.jsx)("th",{scope:"col",children:"Price"}),Object(p.jsx)("th",{scope:"col",children:"Market Cap"}),Object(p.jsx)("th",{scope:"col",children:"VWAP(24Hr)"}),Object(p.jsx)("th",{scope:"col",children:"Supply"}),Object(p.jsx)("th",{scope:"col",children:"Volume(24Hr)"}),Object(p.jsx)("th",{scope:"col",children:"Change(24Hr)"})]})}),Object(p.jsx)("tbody",{children:a.filter((function(t){return t.id===e})).map((function(e){return Object(p.jsx)(V,{asset:e},e.id)}))})]}),Object(p.jsx)(K,{data:s})]})},X=function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(Y,{}),Object(p.jsx)(u.b,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(u.a,{to:"/table"})}}),Object(p.jsx)(u.b,{path:"/portfolio",render:function(){return Object(p.jsx)(J,{})}}),Object(p.jsx)(u.b,{path:"/table",render:function(){return Object(p.jsx)(B,{})}}),Object(p.jsx)(u.b,{path:"/currency-info/:id",render:function(){return Object(p.jsx)(Q,{})}})]})})]})},Z=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,121)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))},ee=r(47),te=r(68),re=Object(ee.b)({cryptocurrencyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CRYPT/SET-CURRENT-ASSETS-PORTION":return Object(x.a)(Object(x.a)({},e),{},{dataAssetsPortion:t.data});case"CRYPT/SET-DATA-CHART":return Object(x.a)(Object(x.a)({},e),{},{chartData:t.data});case"CRYPT/SET-ASSETS-TOTAL":return Object(x.a)(Object(x.a)({},e),{},{totalAssetData:t.totalAssetData,timestamp:t.timestamp,topAssets:t.totalAssetData.slice(0,3)});default:return e}},portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PORTFOLIO/SET-ASSETS":return Object(x.a)(Object(x.a)({},e),{},{portfolio:[].concat(Object(f.a)(e.portfolio),Object(f.a)(t.assets))});case"PORTFOLIO/ADD-ASSET":var r=e.portfolio.reduce((function(e,t){return e+t.price}),0),c=e.portfolio.find((function(e){return e.assetId===t.asset.assetId}));return c?(e.portfolio.forEach((function(e){e.assetId===t.asset.assetId&&(e.count=e.count+t.asset.count,e.price=e.price+t.asset.price)})),Object(x.a)(Object(x.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+r,percent:100*t.asset.price/r,portfolio:Object(f.a)(e.portfolio)})):Object(x.a)(Object(x.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+t.asset.price,percent:100*t.asset.price/t.asset.price,portfolio:[].concat(Object(f.a)(e.portfolio),[t.asset])});case"PORTFOLIO/UPDATE-PERCENT":var n=e.portfolio.reduce((function(e,t){return e+t.price}),0);return Object(x.a)(Object(x.a)({},e),{},{currentAssetSessions:e.currentAssetSessions-t.asset.price,percent:100*t.asset.price/n});case"PORTFOLIO/REMOVE-ASSET":return Object(x.a)(Object(x.a)({},e),{},{portfolio:e.portfolio.map((function(e){return e.assetId===t.asset.assetId?Object(x.a)(Object(x.a)({},e),{},{count:e.count-t.asset.count,price:e.price-t.asset.price}):e}))});case"PORTFOLIO/CHANGE-PAGE":return Object(x.a)(Object(x.a)({},e),{},{currentUserPage:t.currentPage});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-APP-STATUS":return Object(x.a)(Object(x.a)({},e),{},{status:t.status});case"APP/SET-APP-ERROR":return Object(x.a)(Object(x.a)({},e),{},{error:t.error});default:return e}}}),ce=Object(ee.c)(re,function(){try{var e=localStorage.getItem("portfolioAssets");if(null===e)return;return function(e){var t=JSON.parse(e),r=t.portfolio.portfolio.filter((function(e){return 0!==e.count}));return Object(x.a)(Object(x.a)({},t),{},{portfolio:Object(x.a)(Object(x.a)({},t.portfolio),{},{portfolio:r,percent:0,currentAssetSessions:0})})}(e)}catch(t){return}}(),Object(ee.a)(te.a));ce.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("portfolioAssets",t)}catch(r){return}}(Object(x.a)(Object(x.a)({},ce.getState()),{},{portfolio:ce.getState().portfolio}))})),window.store=ce,i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(a.a,{children:Object(p.jsx)(o.a,{store:ce,children:Object(p.jsx)(X,{})})})}),document.getElementById("root")),Z()},78:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){}},[[113,1,2]]]);
//# sourceMappingURL=main.2477c634.chunk.js.map