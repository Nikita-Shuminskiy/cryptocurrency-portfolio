(this["webpackJsonpcryptocurrency-portfolio"]=this["webpackJsonpcryptocurrency-portfolio"]||[]).push([[0],{105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),s=c(22),a=(c(71),c(72),c(73),c(74),c(7)),i=c(6),o=c(8),u=c(115),j=(c(82),c(117)),l=c(119),d=c(120),b=c(1),O=function(e){var t=Object(r.useState)(""),c=Object(i.a)(t,2),n=c[0],s=c[1],a=(Number(e.assets.priceUsd)*Number(n)).toFixed(2);return Object(b.jsxs)(j.a,{show:!0,children:[Object(b.jsxs)(j.a.Header,{children:[Object(b.jsx)(j.a.Title,{children:"Add to portfolio"}),Object(b.jsx)(u.a,{onClick:function(){return e.showModal(!1)},variant:"primary",children:"close"})]}),Object(b.jsxs)(j.a.Body,{children:[Object(b.jsxs)("div",{children:["Do you want to add ",Object(b.jsx)("strong",{children:e.assets.name})," to your portfolio"]}),Object(b.jsx)("div",{children:Object(b.jsxs)(l.a,{className:"mb-3",children:[Object(b.jsx)(d.a,{type:"number",value:n,onChange:function(e){Number(e.currentTarget.value)>-1&&s(e.currentTarget.value)}}),Object(b.jsxs)(l.a.Text,{children:["$",a]})]})})]}),Object(b.jsx)(j.a.Footer,{children:Object(b.jsx)(u.a,{onClick:function(){return 0!==+n&&e.addAssetsHandler(Number(n))},variant:"primary",children:"Add"})})]})},p=c(26),f=c(2),h={portfolio:[],percent:0,currentAssetSessions:0,currentPage:1},x=n.a.memo((function(e){var t=e.item,c=Object(r.useState)(!1),n=Object(i.a)(c,2),s=n[0],j=n[1],l=Object(a.b)(),d=Object(o.g)();return Object(b.jsxs)("div",{className:"main__body",children:[s&&Object(b.jsx)(O,{assets:t,addAssetsHandler:function(e){var c={assetId:t.id,count:e,price:Number(t.priceUsd)*e};l({type:"PORTFOLIO/ADD-ASSET",asset:c}),j(!s)},showModal:j}),Object(b.jsxs)("div",{className:"main__body__block",children:[Object(b.jsx)("p",{children:t.rank}),Object(b.jsx)("p",{children:t.name}),Object(b.jsxs)("p",{children:["$",(+t.priceUsd).toFixed(2)]}),Object(b.jsx)(u.a,{className:"block_btn",onClick:function(){return e=t.id,d.push("/currency-info/".concat(e));var e},variant:"outline-primary",children:"More info"}),Object(b.jsx)(u.a,{className:"block_btn",onClick:function(){j(!0)},variant:"outline-primary",children:"Buy currency"})]})]})})),m=c(27),v=c.n(m),y=c(46),S={status:"loading",error:null},T=function(e){return{type:"APP/SET-APP-STATUS",status:e}},g=c(64),A=c.n(g).a.create({baseURL:"https://api.coincap.io/v2/"}),P=function(){return A.get("assets")},N=function(e){return A.get("assets/".concat(e,"/history"),{params:{interval:"d1"}})},C=function(){return A.get("assets?limit=3")},E={dataAssets:[],timestamp:null,chartData:[],topAssets:[]},_=function(e,t){return{type:"CRYPT/SET-CURRENT-ASSETS",data:e,timestamp:t}},k=function(e){return{type:"CRYPT/SET-DATA-CHART",data:e}},R=function(e){return{type:"CRYPT/SET-TOP-DATA-ASSETS",data:e}},F=c(116),I=(c(105),function(){return Object(b.jsx)("div",{className:"preloader",children:Object(b.jsx)(F.a,{animation:"border",variant:"primary"})})}),w=(c(106),function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),c=[],r=1;r<=t;r++)c.push(r);return Object(b.jsx)("div",{className:"paginator",children:c.map((function(t){return Object(b.jsx)("span",{className:e.currentPage===t?"paginator__selected":"paginator__unselected",onClick:function(){return e.onPageChange(t)},children:t},t)}))})}),U=c(118),D=(c(107),function(e){var t=Object(r.useState)(!0),c=Object(i.a)(t,2),n=c[0],s=c[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(U.a,{className:"alert",show:n,variant:"primary",children:[Object(b.jsx)(U.a.Heading,{children:"The server is overloaded"}),Object(b.jsx)(u.a,{onClick:function(){s(!1)},variant:"outline-primary",children:"Close Alert!"})]})})}),L=function(){var e=Object(a.b)();Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(t){var c,r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T("loading")),e.prev=1,e.next=4,P();case 4:c=e.sent,r=c.data,n=r.data,s=r.timestamp,t(_(n,s)),t(T("succeeded")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(T("failed"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(a.c)((function(e){return e.cryptocurrencyList.dataAssets})),c=Object(a.c)((function(e){return e.app.status})),n=Object(a.c)((function(e){return e.portfolio.currentPage})),s=t.length,i=10*n,o=i-10,u=t.slice(o,i);return Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)(w,{onPageChange:function(t){return e(function(e){return{type:"PORTFOLIO/CHANGE-PAGE",page:e}}(t))},totalCount:s,pageSize:10,currentPage:n}),"failed"===c&&Object(b.jsx)(D,{}),Object(b.jsxs)("div",{className:"main__header",children:[Object(b.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(b.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(b.jsx)("p",{className:"main__header-text",children:"Price"})]}),"loading"===c?Object(b.jsx)(I,{}):u.map((function(e){return Object(b.jsx)(x,{item:e},e.id)}))]})},H=(c(108),function(){var e=Object(a.c)((function(e){return e.cryptocurrencyList.topAssets})),t=Object(a.c)((function(e){return e.app.status})),c=Object(a.c)((function(e){return e.portfolio})),n=c.portfolio,i=c.percent,o=c.currentAssetSessions,u=Object(a.b)();Object(r.useEffect)((function(){u(function(){var e=Object(y.a)(v.a.mark((function e(t){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T("loading")),e.prev=1,e.next=4,C();case 4:c=e.sent,r=c.data.data,t(R(r)),t(T("succeeded")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(T("failed"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[u]);var j=n&&n.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2);return Object(b.jsxs)("div",{className:"header",children:["loading"===t&&Object(b.jsx)(I,{}),e.map((function(e){return Object(b.jsxs)("div",{className:"header__assets",children:[Object(b.jsx)("p",{className:"header__assets-text",children:e.name}),Object(b.jsxs)("p",{className:"header__assets-text",children:["$",(+e.priceUsd).toFixed(2)]})]},e.id)})),Object(b.jsxs)("div",{className:"header__totalCounts",children:[Object(b.jsxs)("p",{className:"header__totalCounts-text",children:["Wallet:",j,"USD"]}),Object(b.jsxs)("p",{className:"header__totalCounts-text",children:["Session:",o.toFixed(2),"USD"]}),Object(b.jsxs)("p",{className:"header__totalCounts-text",children:[i!==1/0&&i.toFixed(3),"% "]})]}),Object(b.jsx)(s.b,{className:"header__link",to:"/portfolio",children:" My Portfolio"})]})}),M=(c(109),c(110),n.a.memo((function(e){var t=e.asset,c=e.currentAssets,n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],j=s[1],O=Object(r.useState)(!1),p=Object(i.a)(O,2),f=p[0],h=p[1],x=Object(a.c)((function(e){return e.cryptocurrencyList.dataAssets})),m=Object(a.b)();return Object(b.jsxs)("div",{className:"wallet",children:[Object(b.jsxs)(u.a,{onClick:function(){return h(!f)},variant:"primary",children:["Change ",t.assetId]}),f?Object(b.jsxs)(l.a,{className:"mb-3",children:[Object(b.jsx)(l.a.Text,{children:t.assetId}),Object(b.jsx)(l.a.Text,{children:t.count}),Object(b.jsx)(d.a,{type:"number",value:o,onChange:function(e){+e.currentTarget.value>-1&&j(e.currentTarget.value)}}),Object(b.jsx)(u.a,{variant:"primary",onClick:function(){return function(e){var r=c.find((function(t){return t.assetId===e})),n=x.find((function(t){return t.id===e&&t.priceUsd}));if(r&&n){var s={assetId:e,count:Number(o),price:Number(n.priceUsd)*Number(o)};if(t.count<s.count)return;m(function(e){return{type:"PORTFOLIO/UPDATE-PERCENT",asset:e}}(s)),m(function(e){return{type:"PORTFOLIO/REMOVE-ASSET",asset:e}}(s))}h(!1)}(t.assetId)},children:"sale"})]}):Object(b.jsxs)("div",{className:"wallet__block",children:[Object(b.jsx)("span",{children:t.assetId}),Object(b.jsxs)("span",{children:["$",t.price.toFixed(1)]}),Object(b.jsx)("span",{children:t.count})]})]})}))),B=function(){var e=Object(a.c)((function(e){return e.portfolio.portfolio})),t=Object(o.g)(),c=e.filter((function(e){return 0!==e.count}));return Object(b.jsxs)(j.a,{show:!0,children:[Object(b.jsxs)(j.a.Header,{children:[Object(b.jsx)(j.a.Title,{children:"My Portfolio"}),Object(b.jsx)("button",{onClick:function(){return t.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"})]}),Object(b.jsxs)(j.a.Body,{children:[!c.length&&Object(b.jsx)("div",{children:"Your Wallet Is Empty"}),c.map((function(t){return Object(b.jsx)(M,{currentAssets:e,asset:t},t.assetId)}))]}),Object(b.jsx)(j.a.Footer,{})]})},Y=(c(111),c(66)),$=c(67),G=c.n($),J=(c(112),function(e){var t=e.data,c={series:[{type:"area",data:t&&t.map((function(e){return+e.priceUsd}))}]};return Object(b.jsx)(G.a,{highcharts:Y,options:c})}),V=function(){var e=Object(o.h)().id,t=Object(a.c)((function(e){return e.cryptocurrencyList})),c=Object(a.b)(),n=Object(o.g)();return Object(r.useEffect)((function(){c(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(c){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(T("loading")),t.prev=1,t.next=4,N(e);case 4:r=t.sent,n=r.data.data,c(k(n)),c(T("succeeded")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c(T("failed"));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[c,e]),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){n.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"}),Object(b.jsxs)("table",{className:"table table-hover table-sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"table-primary",children:[Object(b.jsx)("th",{scope:"col",children:"Rank"}),Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Price"}),Object(b.jsx)("th",{scope:"col",children:"Market Cap"}),Object(b.jsx)("th",{scope:"col",children:"VWAP(24Hr)"}),Object(b.jsx)("th",{scope:"col",children:"Supply"}),Object(b.jsx)("th",{scope:"col",children:"Volume(24Hr)"}),Object(b.jsx)("th",{scope:"col",children:"Change(24Hr)"})]})}),Object(b.jsx)("tbody",{children:t.dataAssets.filter((function(t){return t.id===e})).map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:e.rank}),Object(b.jsx)("th",{children:e.name}),Object(b.jsxs)("th",{children:["$",(+e.priceUsd).toFixed(5)]}),Object(b.jsxs)("th",{children:["$",(+e.marketCapUsd).toFixed(5)]}),Object(b.jsxs)("th",{children:["$",(+e.vwap24Hr).toFixed(2)]}),Object(b.jsxs)("th",{children:[(+e.supply).toFixed(5),"B"]}),Object(b.jsxs)("th",{children:[(+e.volumeUsd24Hr).toFixed(5),"B"]}),Object(b.jsxs)("th",{children:[(+e.changePercent24Hr).toFixed(2),"%"]})]},e.id)}))})]}),Object(b.jsx)(J,{data:t.chartData})]})},W=function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(H,{}),Object(b.jsx)(o.b,{children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(b.jsx)(o.a,{to:"/table"})}}),Object(b.jsx)(o.b,{path:"/portfolio",render:function(){return Object(b.jsx)(B,{})}}),Object(b.jsx)(o.b,{path:"/table",render:function(){return Object(b.jsx)(L,{})}}),Object(b.jsx)(o.b,{path:"/currency-info/:id",render:function(){return Object(b.jsx)(V,{})}})]})})]})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,121)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))},q=c(17),K=c.n(q),Q=c(47),X=c(68),Z=Object(Q.b)({cryptocurrencyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CRYPT/SET-CURRENT-ASSETS":return Object(f.a)(Object(f.a)({},e),{},{dataAssets:t.data,timestamp:t.timestamp});case"CRYPT/SET-DATA-CHART":return Object(f.a)(Object(f.a)({},e),{},{chartData:t.data});case"CRYPT/SET-TOP-DATA-ASSETS":return Object(f.a)(Object(f.a)({},e),{},{topAssets:t.data});default:return e}},portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PORTFOLIO/SET-ASSETS":return Object(f.a)(Object(f.a)({},e),{},{portfolio:[].concat(Object(p.a)(e.portfolio),Object(p.a)(t.assets))});case"PORTFOLIO/ADD-ASSET":var c=e.portfolio.reduce((function(e,t){return e+t.price}),0),r=e.portfolio.find((function(e){return e.assetId===t.asset.assetId}));return r?(e.portfolio.forEach((function(e){e.assetId===t.asset.assetId&&(e.count=e.count+t.asset.count,e.price=e.price+t.asset.price)})),Object(f.a)(Object(f.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+c,percent:100*t.asset.price/c,portfolio:Object(p.a)(e.portfolio)})):Object(f.a)(Object(f.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+t.asset.price,percent:100*t.asset.price/t.asset.price,portfolio:[].concat(Object(p.a)(e.portfolio),[t.asset])});case"PORTFOLIO/UPDATE-PERCENT":var n=e.portfolio.reduce((function(e,t){return e+t.price}),0);return Object(f.a)(Object(f.a)({},e),{},{currentAssetSessions:e.currentAssetSessions-t.asset.price,percent:100*t.asset.price/n});case"PORTFOLIO/REMOVE-ASSET":return Object(f.a)(Object(f.a)({},e),{},{portfolio:e.portfolio.map((function(e){return e.assetId===t.asset.assetId?Object(f.a)(Object(f.a)({},e),{},{count:e.count-t.asset.count,price:e.price-t.asset.price}):e}))});case"PORTFOLIO/CHANGE-PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.page});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-APP-STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case"APP/SET-APP-ERROR":return Object(f.a)(Object(f.a)({},e),{},{error:t.error});default:return e}}}),ee=Object(Q.c)(Z,function(){try{var e=localStorage.getItem("portfolioAssets");if(null===e)return;return function(e){var t=JSON.parse(e),c=t.portfolio.portfolio.filter((function(e){return 0!==e.count}));return Object(f.a)(Object(f.a)({},t),{},{portfolio:Object(f.a)(Object(f.a)({},t.portfolio),{},{portfolio:c,percent:0,currentAssetSessions:0})})}(e)}catch(t){return}}(),Object(Q.a)(X.a));ee.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("portfolioAssets",t)}catch(c){return}}({portfolio:ee.getState().portfolio})})),window.store=ee,K.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(a.a,{store:ee,children:Object(b.jsx)(W,{})})})}),document.getElementById("root")),z()},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},82:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.0817a216.chunk.js.map