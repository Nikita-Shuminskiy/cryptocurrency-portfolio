(this["webpackJsonpcryptocurrency-portfolio"]=this["webpackJsonpcryptocurrency-portfolio"]||[]).push([[0],{100:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(22),a=(c(69),c(70),c(71),c(6)),i=(c(72),c(10)),o=c(2),u=c(61),j=c.n(u).a.create({baseURL:"https://api.coincap.io/v2/"}),l=function(){return j.get("assets")},d=function(e){return j.get("assets/".concat(e,"/history"),{params:{interval:"d1"}})},b=function(){return j.get("https://api.coincap.io/v2/assets?limit=3")},O={status:"loading",error:null},p=function(e){return{type:"APP/SET-APP-STATUS",status:e}},f={dataAssets:[],timestamp:null,chartData:[],topAssets:[]},h=c(7),x=c(112),m=c(114),v=c(116),S=c(117),y=c(1),T=function(e){var t=Object(n.useState)(""),c=Object(a.a)(t,2),r=c[0],s=c[1];return Object(y.jsxs)(m.a,{show:!0,children:[Object(y.jsxs)(m.a.Header,{children:[Object(y.jsx)(m.a.Title,{children:"Add to portfolio"}),Object(y.jsx)(x.a,{onClick:function(){return e.showModal(!1)},variant:"primary",children:"close"})]}),Object(y.jsxs)(m.a.Body,{children:[Object(y.jsxs)("div",{children:["Do you want to add ",Object(y.jsx)("strong",{children:e.assets.name})," to your portfolio"]}),Object(y.jsx)("div",{children:Object(y.jsx)(v.a,{className:"mb-3",children:Object(y.jsx)(S.a,{type:"number",value:r,onChange:function(e){Number(e.currentTarget.value)>-1&&s(e.currentTarget.value)}})})})]}),Object(y.jsx)(m.a.Footer,{children:Object(y.jsx)(x.a,{onClick:function(){return r&&e.addAssetsHandler(Number(r))},variant:"primary",children:"Add"})})]})},A=c(26),g={portfolio:[],percent:0,currentAssetSessions:0},N=(c(100),r.a.memo((function(e){var t=e.item,c=Object(n.useState)(!1),r=Object(a.a)(c,2),s=r[0],o=r[1],u=Object(i.b)(),j=Object(h.g)();return Object(y.jsxs)("div",{className:"main__body",children:[s&&Object(y.jsx)(T,{assets:t,addAssetsHandler:function(e){var c={assetId:t.id,count:e,price:Number(t.priceUsd)*e};u({type:"PORTFOLIO/ADD-ASSET",asset:c}),o(!s)},showModal:o}),Object(y.jsxs)("div",{className:"main__body__block",children:[Object(y.jsx)("p",{children:t.rank}),Object(y.jsx)("p",{children:t.name}),Object(y.jsxs)("p",{children:["$",(+t.priceUsd).toFixed(2)]}),Object(y.jsx)(x.a,{className:"block_btn",onClick:function(){return e=t.id,j.push("/currency-info/".concat(e));var e},variant:"outline-primary",children:"More info"}),Object(y.jsx)(x.a,{className:"block_btn",onClick:function(){o(!0)},variant:"outline-primary",children:"Buy currency"})]})]})}))),P=c(113),C=(c(102),function(){return Object(y.jsx)("div",{className:"preloader",children:Object(y.jsx)(P.a,{animation:"border",variant:"primary"})})}),_=(c(103),function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),c=[],n=1;n<=t;n++)c.push(n);return Object(y.jsx)("div",{className:"paginator",children:c.map((function(t){return Object(y.jsx)("span",{className:e.currentPage===t?"paginator__selected":"paginator__unselected",onClick:function(){return e.onPageChange(t)},children:t},t)}))})}),E=c(115),R=(c(104),function(e){var t=Object(n.useState)(!0),c=Object(a.a)(t,2),r=c[0],s=c[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(E.a,{className:"alert",show:r,variant:"primary",children:[Object(y.jsx)(E.a.Heading,{children:"Server error, please repeat later"}),Object(y.jsx)(x.a,{onClick:function(){s(!1)},variant:"outline-primary",children:"Close Alert!"})]})})}),k=function(){var e=Object(i.b)();Object(n.useEffect)((function(){e((function(e){e(p("loading")),l().then((function(t){var c=t.data,n=c.data,r=c.timestamp;e(function(e,t){return{type:"CRYPT/SET-CURRENT-ASSETS",data:e,timestamp:t}}(n,r)),e(p("succeeded"))})).catch((function(t){e(p("failed"))}))}))}),[e]);var t=Object(i.c)((function(e){return e.cryptocurrencyList.dataAssets})),c=Object(n.useState)(1),r=Object(a.a)(c,2),s=r[0],o=r[1],u=Object(i.c)((function(e){return e.app.status})),j=t.length,d=10*s,b=d-10,O=t.slice(b,d);return Object(y.jsxs)("div",{className:"main",children:[Object(y.jsx)(_,{onPageChange:function(e){o(e)},totalCount:j,pageSize:10,currentPage:s}),"failed"===u&&Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"main__header",children:[Object(y.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(y.jsx)("p",{className:"main__header-text",children:"Rank"}),Object(y.jsx)("p",{className:"main__header-text",children:"Price"})]}),"loading"===u?Object(y.jsx)(C,{}):O.map((function(e){return Object(y.jsx)(N,{item:e},e.id)}))]})},F=(c(105),function(){var e=Object(i.c)((function(e){return e.cryptocurrencyList.topAssets})),t=Object(i.c)((function(e){return e.portfolio})),c=t.portfolio,r=t.percent,a=t.currentAssetSessions,o=Object(i.b)();Object(n.useEffect)((function(){o((function(e){e(p("loading")),b().then((function(t){var c=t.data.data;e(function(e){return{type:"CRYPT/SET-TOP-DATA-ASSETS",data:e}}(c)),e(p("succeeded"))})).catch((function(t){e(p("failed"))}))}))}),[o]);var u=c&&c.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2);return Object(y.jsxs)("div",{className:"header",children:[e.map((function(e){return Object(y.jsxs)("div",{className:"header__assets",children:[Object(y.jsx)("p",{className:"header__assets-text",children:e.name}),Object(y.jsxs)("p",{className:"header__assets-text",children:["$",(+e.priceUsd).toFixed(2)]})]},e.id)})),Object(y.jsxs)("div",{className:"header__totalCounts",children:[Object(y.jsxs)("p",{className:"header__totalCounts-text",children:["Wallet:",u,"USD"]}),Object(y.jsxs)("p",{className:"header__totalCounts-text",children:["Session:",a.toFixed(2),"USD"]}),Object(y.jsxs)("p",{className:"header__totalCounts-text",children:[r!==1/0&&r.toFixed(2),"% "]})]}),Object(y.jsx)(s.b,{className:"header__link",to:"/portfolio",children:" My Portfolio"})]})}),I=(c(106),c(107),function(e){var t=e.asset,c=e.currentAssets,r=Object(n.useState)(""),s=Object(a.a)(r,2),o=s[0],u=s[1],j=Object(n.useState)(!1),l=Object(a.a)(j,2),d=l[0],b=l[1],O=Object(i.c)((function(e){return e.cryptocurrencyList.dataAssets})),p=Object(i.b)();return Object(y.jsxs)("div",{className:"wallet",children:[Object(y.jsxs)(x.a,{onClick:function(){return b(!d)},variant:"primary",children:["Change ",t.assetId]}),d?Object(y.jsxs)(v.a,{className:"mb-3",children:[Object(y.jsx)(v.a.Text,{children:t.assetId}),Object(y.jsx)(v.a.Text,{children:t.count}),Object(y.jsx)(S.a,{type:"number",value:o,onChange:function(e){+e.currentTarget.value>-1&&u(e.currentTarget.value)}}),Object(y.jsx)(x.a,{variant:"primary",onClick:function(){return function(e){var n=c.find((function(t){return t.assetId===e})),r=O.find((function(t){if(t.id===e)return t.priceUsd}));if(n&&r){var s={assetId:e,count:Number(o),price:Number(r.priceUsd)*Number(o)};if(t.count<s.count)return;p(function(e){return{type:"PORTFOLIO/UPDATE-PERCENT",asset:e}}(s)),p(function(e){return{type:"PORTFOLIO/REMOVE-ASSET",asset:e}}(s))}b(!1)}(t.assetId)},children:"delete"})]}):Object(y.jsxs)("div",{className:"wallet__block",children:[Object(y.jsx)("span",{children:t.assetId}),Object(y.jsxs)("span",{children:["$",t.price.toFixed(1)]}),Object(y.jsx)("span",{children:t.count})]})]})}),U=function(){var e=Object(i.c)((function(e){return e.portfolio.portfolio})),t=Object(h.g)();return Object(y.jsxs)(m.a,{show:!0,children:[Object(y.jsxs)(m.a.Header,{children:[Object(y.jsx)(m.a.Title,{children:"My Portfolio"}),Object(y.jsx)("button",{onClick:function(){return t.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"})]}),Object(y.jsx)(m.a.Body,{children:e.filter((function(e){return 0!==e.count})).map((function(t){return Object(y.jsx)(I,{currentAssets:e,asset:t},t.assetId)}))}),Object(y.jsx)(m.a.Footer,{})]})},w=c(64),D=c(65),L=c.n(D),H=(c(108),function(e){var t=e.data,c={series:[{type:"area",data:t&&t.map((function(e){return+e.priceUsd}))}]};return Object(y.jsx)(L.a,{highcharts:w,options:c})}),M=(c(109),function(){var e=Object(h.h)().id,t=Object(i.c)((function(e){return e.cryptocurrencyList})),c=Object(i.b)(),r=Object(h.g)();return Object(n.useEffect)((function(){c(function(e){return function(t){t(p("loading")),d(e).then((function(e){var c=e.data.data;t(function(e){return{type:"CRYPT/SET-DATA-CHART",data:e}}(c)),t(p("succeeded"))})).catch((function(e){t(p("failed"))}))}}(e))}),[c,e]),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){r.goBack()},type:"button",className:"btn btn-outline-primary",children:"Go back"}),Object(y.jsxs)("table",{className:"table table-hover table-sm",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"table-primary",children:[Object(y.jsx)("th",{scope:"col",children:"Rank"}),Object(y.jsx)("th",{scope:"col",children:"Name"}),Object(y.jsx)("th",{scope:"col",children:"Price"}),Object(y.jsx)("th",{scope:"col",children:"Market Cap"}),Object(y.jsx)("th",{scope:"col",children:"VWAP(24Hr)"}),Object(y.jsx)("th",{scope:"col",children:"Supply"}),Object(y.jsx)("th",{scope:"col",children:"Volume(24Hr)"}),Object(y.jsx)("th",{scope:"col",children:"Change(24Hr)"})]})}),Object(y.jsx)("tbody",{children:t.dataAssets.filter((function(t){return t.id===e})).map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{scope:"row",children:e.rank}),Object(y.jsx)("td",{children:e.name}),Object(y.jsxs)("td",{children:["$",(+e.priceUsd).toFixed(5)]}),Object(y.jsxs)("td",{children:["$",(+e.marketCapUsd).toFixed(5)]}),Object(y.jsxs)("td",{children:["$",(+e.vwap24Hr).toFixed(2)]}),Object(y.jsxs)("td",{children:[(+e.supply).toFixed(5),"B"]}),Object(y.jsxs)("td",{children:[(+e.volumeUsd24Hr).toFixed(5),"B"]}),Object(y.jsxs)("td",{children:[(+e.changePercent24Hr).toFixed(2),"%"]})]},e.id)}))})]}),Object(y.jsx)(H,{data:t.chartData})]})}),B=function(){return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(F,{}),Object(y.jsx)(h.b,{children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(y.jsx)(h.a,{to:"/table"})}}),Object(y.jsx)(h.b,{path:"/portfolio",render:function(){return Object(y.jsx)(U,{})}}),Object(y.jsx)(h.b,{path:"/table",render:function(){return Object(y.jsx)(k,{})}}),Object(y.jsx)(h.b,{path:"/currency-info/:id",render:function(){return Object(y.jsx)(M,{})}})]})})]})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,118)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))},$=c(17),J=c.n($),V=c(45),z=c(66),G=Object(V.b)({cryptocurrencyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CRYPT/SET-CURRENT-ASSETS":return Object(o.a)(Object(o.a)({},e),{},{dataAssets:t.data,timestamp:t.timestamp});case"CRYPT/SET-DATA-CHART":return Object(o.a)(Object(o.a)({},e),{},{chartData:t.data});case"CRYPT/SET-TOP-DATA-ASSETS":return Object(o.a)(Object(o.a)({},e),{},{topAssets:t.data});default:return e}},portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PORTFOLIO/SET-ASSETS":return Object(o.a)(Object(o.a)({},e),{},{portfolio:[].concat(Object(A.a)(e.portfolio),Object(A.a)(t.assets))});case"PORTFOLIO/ADD-ASSET":var c=e.portfolio.reduce((function(e,t){return e+t.price}),0),n=e.portfolio.find((function(e){return e.assetId===t.asset.assetId}));return n?(e.portfolio.forEach((function(e){e.assetId===t.asset.assetId&&(e.count=e.count+t.asset.count,e.price=e.price+t.asset.price)})),Object(o.a)(Object(o.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+c,percent:100*t.asset.price/c,portfolio:Object(A.a)(e.portfolio)})):Object(o.a)(Object(o.a)({},e),{},{currentAssetSessions:e.currentAssetSessions+t.asset.price,percent:100*t.asset.price/t.asset.price,portfolio:[].concat(Object(A.a)(e.portfolio),[t.asset])});case"PORTFOLIO/UPDATE-PERCENT":var r=e.portfolio.reduce((function(e,t){return e+t.price}),0);return Object(o.a)(Object(o.a)({},e),{},{currentAssetSessions:e.currentAssetSessions-t.asset.price,percent:100*t.asset.price/r});case"PORTFOLIO/REMOVE-ASSET":return Object(o.a)(Object(o.a)({},e),{},{portfolio:e.portfolio.map((function(e){return e.assetId===t.asset.assetId?Object(o.a)(Object(o.a)({},e),{},{count:e.count-t.asset.count,price:e.price-t.asset.price}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-APP-STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"APP/SET-APP-ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.error});default:return e}}}),W=Object(V.c)(G,function(){try{var e=localStorage.getItem("portfolioAssets");if(null===e)return;return function(e){var t=JSON.parse(e),c=t.portfolio.portfolio.filter((function(e){return 0!==e.count}));return Object(o.a)(Object(o.a)({},t),{},{portfolio:Object(o.a)(Object(o.a)({},t.portfolio),{},{portfolio:c})})}(e)}catch(t){return}}(),Object(V.a)(z.a));W.subscribe((function(){!function(e){try{var t=Object(o.a)(Object(o.a)({},e),{},{portfolio:Object(o.a)(Object(o.a)({},e.portfolio),{},{percent:0,currentAssetSessions:0})}),c=JSON.stringify(t);localStorage.setItem("portfolioAssets",c)}catch(n){return console.log(n)}}(Object(o.a)(Object(o.a)({},W.getState()),{},{portfolio:W.getState().portfolio}))})),window.store=W,J.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(i.a,{store:W,children:Object(y.jsx)(B,{})})})}),document.getElementById("root")),Y()},69:function(e,t,c){},70:function(e,t,c){},72:function(e,t,c){}},[[110,1,2]]]);
//# sourceMappingURL=main.0964b510.chunk.js.map